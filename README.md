# multiFields

[EVO] multiFields — custom TV

Создание кастомных полей для документов.

#### Установка:
* Скачать содержимое репозитория в папку assets/tvs/multifields
* Создать TV с типом multifields
* Добавить конфигурацию для отображения.

#### Конфигурация:
Для каждого ТВ создаётся свой конфигурационный файл в формате php или в поле в возможных значениях в формате json.

В конфигурационном файле указываются возможные типы полей, их названия и описания. Генерация полей происходит по аналогии с кастом ТВ.


#### Типы полей:
Тип поля можно указать любой доступный для ТВ.

Так же есть "собственные" типы для группировки.

**group** - Группа полей, с возможностью выбора доступных шаблонов.

**items** - Набор полей с доступными типами (группы так же доступны).

**thumb** - заглушка для одного или нескольких полей, и может использоваться для галереи.


#### Параметры шаблонов, то есть первый уровень в массиве конфигурации
**tplTitle** - (string) название шаблона при выборе

**hidden** - (bool) скрыть шаблон, для индивидуального использования в других группах.

#### Параметры группы:
**title** - (string) название группы

**value** - (bool | string) Возможность менять название группы, по умолчанию - false

**templates** - (array) массив доступных для выбора шаблонов ```[0, 3, 8]```, по умолчанию все, что есть в конфигурационном файле.

**actions** - (array) массив доступных действий, по умолчанию доступны все действия

move - перемещение

add - добавление

del - удаление

Пример: 
```['add', 'del']``` - доступно добавление и удаление, перемещение недоступно.

**cols** - css класс группы, по умолчанию col-12
 

#### Параметры полей:
**type** - тип поля

**name** - имя поля (используется для идентификации)

**title** - название поля (заголовок)

**placeholder** - подсказка в поле

**elements** - возможные значения

**default** - значение по умолчанию

**required** - атрибут обязательное поле

**readonly** - атрибут только для чтения

**attr** - дополнительные атрибуты поля

**item.col** - css класс, по умолчанию col


## Примеры

**Текстовое поле с выбором изображения**
```php
[
	'tplTitle' => 'Текст и картинка',
	'type' => 'items',
	[
		'type' => 'text',
		'name' => 'alt',
		'placeholder' => 'Название изображения',
		'item.col' => 'col-4'
	],
	[
		'type' => 'image',
		'name' => 'image',
		'placeholder' => 'Изображение',
		'item.col' => 'col-8'
	]
]
```

**Тип thumb, с текстовым полем и выбором изображения**
```php
[
	'tplTitle' => 'Текст и картинка 2',
	'type' => 'thumb',
	[
		'type' => 'text',
		'name' => 'alt',
		'placeholder' => 'Название изображения'
	],
	[
		'type' => 'image',
		'name' => 'image',
		'placeholder' => 'Изображение'
	]
]
```

**Тип richtext с установленной темой**
```php
[
	'tplTitle' => 'Визуальный редактор',
	'type' => 'richtext',
	'placeholder' => 'Визуальный редактор',
	'elements' => [
		'theme' => 'mini'
	]
]
```
**Тип group с возможностью добавления названия и доступным выбором только первого шаблона (отсчёт от нуля)**
```php
[
	'type' => 'group',
	'title' => 'Group',
	'value' => true,
	'templates' => [0]
]
```

---------------------------------------------

##### Похожие решения:

<a href="https://github.com/mnoskov/pagebuilder" target="blank">Page Builder for Evolution CMS</a>

<a href="https://github.com/extras-evolution/multiTV" target="blank">MultiTV</a>